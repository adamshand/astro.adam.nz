---
import Layout from '@/layouts/Base.astro'
import Openmoji from '@/components/Openmoji.astro'
import Lightbox from '@/components/Lightbox.astro'

const images = await Astro.glob(`../../public/images/*/*.jpg`)

function selectRandomMatchingFile(array: any[], filter: string) {
	const selected = array
		.map((img) => img.default.replace('/public', ''))
  	.filter((img) => img.includes(filter))
  return selected[Math.floor(Math.random() * selected.length)]
}
---
<Layout>
  <nav>
    <a href="/blog">Writing</a> <b>&middot;</b>
    <a href="/projects">Projects</a> <b>&middot;</b>
    <a href="/about">About</a>
  </nav>

  <div>
    <Lightbox file={selectRandomMatchingFile(images, '/adam/')} />
    <Lightbox file={selectRandomMatchingFile(images, '/lolz/')} />
    <Lightbox file={selectRandomMatchingFile(images, '/cute/')} />
  </div>

  <p>
    Some things that interest me (most recent first):
    <a href="">software development</a>,
    <a href="/afantasia">afantasia</a>, regenerative agriculture (especially
    <a href="/syntropy">Syntropic Agroforestry</a>,
    <a href="">Holistic Management</a>, and
    <a href="/permaculture">Permaculture</a>),
    <a href="">management & leadership</a>,
    <a href="">Nonviolent Communication</a>,
    <a href="">VipassanƒÅ</a>,
    <a href="/tags/eating">food as medicine</a>,
    <a href="/tags/nerding">open source</a>, and
    <a href="/tags/writing">writing</a>.
    <br />
    <a href="https://github.com/adamshand/" target="_blank">
      <Openmoji id="E045" /></a>
    <a href="https://www.linkedin.com/in/adamshand/" target="_blank">
      <Openmoji id="E046" /></a>
  </p>
</Layout>

<style>
  nav {
    margin-bottom: 1rem;
    font-size: 2rem;
    font-weight: 600;
    text-align: center;
  }
  nav a {
    padding-right: 
  }
  p {
    margin: 1rem 11rem;
    text-align: center;
    font-size: 1.3rem;
    font-weight: 400;
  }
</style>
